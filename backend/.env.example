PORT=4000
CLIENT_URL=http://localhost:3000
DATABASE_URL=postgresql://postgres:password@localhost:5432/cardwar

KURIER_URL=https://api-testnet.kurier.xyz/api/v1
KURIER_API=<YOUR_NEW_KURIER_API_KEY>

TRACKING_ENABLED=true

# required for backend-triggered on-chain verification
RPC_URL=<BASE_SEPOLIA_RPC_URL>
OPERATOR_PRIVATE_KEY=0x<PRIVATE_KEY_OF_OPERATOR_WALLET>
CARDWAR_REGISTRY_ADDRESS=0x<DEPLOYED_CARDWAR_REGISTRY>
ZKVERIFY_DOMAIN_ID=<MUST_MATCH_CONTRACT_DOMAIN_ID>

# background reconciliation for stale/non-final Kurier jobs
ZK_RECONCILE_ENABLED=true
ZK_RECONCILE_INTERVAL_MS=30000 #interval after which worker runs

ZK_RECONCILE_BATCH_SIZE=25
ZK_RECONCILE_STALE_SECONDS=120
# min age since last DB update before a job is considered stale.

# Periodically scans stale jobs in verification_jobs with status in:
# Submitted, Queued, IncludedInBlock, AggregationPending
# Calls Kurier job-status for each stale job and upserts fresh status/details.
# Then triggers session-level on-chain reconciliation for affected game sessions.